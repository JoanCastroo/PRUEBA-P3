#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>



struct Correccion {
    char palabra[MAX_LENGTH];
    int contador;
};

void corregirArchivo(const char* nombreArchivoEntrada, const char* nombreArchivoSalida) {
    FILE* archivoEntrada = fopen(nombreArchivoEntrada, "r");
    FILE* archivoSalida = fopen(nombreArchivoSalida, "w");

    if (archivoEntrada == NULL || archivoSalida == NULL) {
        printf("Error al abrir los archivos.\n");
        return;
    }

    char linea[MAX_LENGTH];
    int contadorCorrecciones = 0;
    struct Correccion correcciones[MAX_LENGTH];
    int indiceCorrecciones = 0;

    while (fgets(linea, sizeof(linea), archivoEntrada) != NULL) {
        char* palabra = strtok(linea, " \t\n");

        while (palabra != NULL) {
            if (strcmp(palabra, "Ecuador") == 0) {
                palabra[0] = toupper(palabra[0]);
                contadorCorrecciones++;

                int encontrado = 0;
                for (int i = 0; i < indiceCorrecciones; i++) {
                    if (strcmp(correcciones[i].palabra, palabra) == 0) {
                        correcciones[i].contador++;
                        encontrado = 1;
                        break;
                    }
                }

                if (!encontrado) {
                    strcpy(correcciones[indiceCorrecciones].palabra, palabra);
                    correcciones[indiceCorrecciones].contador = 1;
                    indiceCorrecciones++;
                }
            }

            fputs(palabra, archivoSalida);
            fputc(' ', archivoSalida);

            palabra = strtok(NULL, " \t\n");
        }
    }
    
